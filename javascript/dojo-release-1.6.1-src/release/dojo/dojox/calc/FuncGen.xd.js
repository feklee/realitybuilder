/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realityBuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.calc.FuncGen"],["require","dijit._Templated"],["require","dojox.math._base"],["require","dijit.dijit"],["require","dijit.form.ComboBox"],["require","dijit.form.SimpleTextarea"],["require","dijit.form.Button"],["require","dojo.data.ItemFileWriteStore"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.calc.FuncGen"]){_4._hasResource["dojox.calc.FuncGen"]=true;_4.provide("dojox.calc.FuncGen");_4.require("dijit._Templated");_4.require("dojox.math._base");_4.require("dijit.dijit");_4.require("dijit.form.ComboBox");_4.require("dijit.form.SimpleTextarea");_4.require("dijit.form.Button");_4.require("dojo.data.ItemFileWriteStore");_4.experimental("dojox.calc.FuncGen");_4.declare("dojox.calc.FuncGen",[_5._Widget,_5._Templated],{templateString:_4.cache("dojox.calc","templates/FuncGen.html","<div style=\"border:1px solid black;\">\r\n\r\n\t<select dojoType=\"dijit.form.ComboBox\" placeholder=\"functionName\" dojoAttachPoint='combo' style=\"width:45%;\" class=\"dojoxCalcFuncGenNameBox\" dojoAttachEvent='onChange:onSelect'></select>\r\n\r\n\t<input dojoType=\"dijit.form.TextBox\" placeholder=\"arguments\" class=\"dojoxCalcFuncGenTextBox\" style=\"width:50%;\" dojoAttachPoint='args' />\r\n\t<BR>\r\n\t<TEXTAREA dojoType=\"dijit.form.SimpleTextarea\" placeholder=\"function body\" class=\"dojoxCalcFuncGenTextArea\" style=\"text-align:left;width:95%;\" rows=10 dojoAttachPoint='textarea' value=\"\" dojoAttachEvent='onClick:readyStatus'></TEXTAREA>\r\n\t<BR>\r\n\t<input dojoType=\"dijit.form.Button\" class=\"dojoxCalcFuncGenSave\" dojoAttachPoint='saveButton' label=\"Save\" dojoAttachEvent='onClick:onSaved' />\r\n\t<input dojoType=\"dijit.form.Button\" class=\"dojoxCalcFuncGenReset\" dojoAttachPoint='resetButton' label=\"Reset\" dojoAttachEvent='onClick:onReset' />\r\n\t<input dojoType=\"dijit.form.Button\" class=\"dojoxCalcFuncGenClear\" dojoAttachPoint='clearButton' label=\"Clear\" dojoAttachEvent='onClick:onClear' />\r\n\t<input dojoType=\"dijit.form.Button\" class=\"dojoxCalcFuncGenClose\" dojoAttachPoint='closeButton' label=\"Close\" />\r\n\t<BR><BR>\r\n\t<input dojoType=\"dijit.form.Button\" class=\"dojoxCalcFuncGenDelete\" dojoAttachPoint='deleteButton' label=\"Delete\" dojoAttachEvent='onClick:onDelete' />\r\n\t<BR>\r\n\t<input dojoType=\"dijit.form.TextBox\" style=\"width:45%;\" dojoAttachPoint='status' class=\"dojoxCalcFuncGenStatusTextBox\" readonly value=\"Ready\" />\r\n</div>\r\n"),widgetsInTemplate:true,onSelect:function(){this.reset();},onClear:function(){var _7=confirm("Do you want to clear the name, argument, and body text?");if(_7){this.clear();}},saveFunction:function(_8,_9,_a){},onSaved:function(){},clear:function(){this.textarea.set("value","");this.args.set("value","");this.combo.set("value","");},reset:function(){if(this.combo.get("value") in this.functions){this.textarea.set("value",this.functions[this.combo.get("value")].body);this.args.set("value",this.functions[this.combo.get("value")].args);}},onReset:function(){if(this.combo.get("value") in this.functions){var _b=confirm("Do you want to reset this function?");if(_b){this.reset();this.status.set("value","The function has been reset to its last save point.");}}},deleteThing:function(_c){if(this.writeStore.isItem(_c)){this.writeStore.deleteItem(_c);this.writeStore.save();}else{}},deleteFunction:function(_d){},onDelete:function(){var _e;if((_e=this.combo.get("value")) in this.functions){var _f=confirm("Do you want to delete this function?");if(_f){var _10=this.combo.item;this.writeStore.deleteItem(_10);this.writeStore.save();this.deleteFunction(_e);delete this.functions[_e];this.clear();}}else{this.status.set("value","Function cannot be deleted, it isn't saved.");}},readyStatus:function(){this.status.set("value","Ready");},writeStore:null,readStore:null,functions:null,startup:function(){this.combo.set("store",this.writeStore);this.inherited(arguments);var _11=_5.getEnclosingWidget(this.domNode.parentNode);if(_11&&typeof _11.close=="function"){this.closeButton.set("onClick",_4.hitch(_11,"close"));}else{_4.style(this.closeButton.domNode,"display","none");}}});}}};});