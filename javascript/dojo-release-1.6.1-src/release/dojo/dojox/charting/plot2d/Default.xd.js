/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realitybuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.charting.plot2d.Default"],["require","dojox.charting.plot2d.common"],["require","dojox.charting.plot2d.Base"],["require","dojox.lang.utils"],["require","dojox.lang.functional"],["require","dojox.lang.functional.reversed"],["require","dojox.gfx.fx"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.charting.plot2d.Default"]){_4._hasResource["dojox.charting.plot2d.Default"]=true;_4.provide("dojox.charting.plot2d.Default");_4.require("dojox.charting.plot2d.common");_4.require("dojox.charting.plot2d.Base");_4.require("dojox.lang.utils");_4.require("dojox.lang.functional");_4.require("dojox.lang.functional.reversed");_4.require("dojox.gfx.fx");(function(){var df=_6.lang.functional,du=_6.lang.utils,dc=_6.charting.plot2d.common,_7=df.lambda("item.purgeGroup()");var _8=1200;_4.declare("dojox.charting.plot2d.Default",_6.charting.plot2d.Base,{defaultParams:{hAxis:"x",vAxis:"y",lines:true,areas:false,markers:false,tension:"",animate:false},optionalParams:{stroke:{},outline:{},shadow:{},fill:{},font:"",fontColor:"",markerStroke:{},markerOutline:{},markerShadow:{},markerFill:{},markerFont:"",markerFontColor:""},constructor:function(_9,_a){this.opt=_4.clone(this.defaultParams);du.updateWithObject(this.opt,_a);du.updateWithPattern(this.opt,_a,this.optionalParams);this.series=[];this.hAxis=this.opt.hAxis;this.vAxis=this.opt.vAxis;this.animate=this.opt.animate;},render:function(_b,_c){if(this.zoom&&!this.isDataDirty()){return this.performZoom(_b,_c);}this.resetEvents();this.dirty=this.isDirty();if(this.dirty){_4.forEach(this.series,_7);this._eventSeries={};this.cleanGroup();this.group.setTransform(null);var s=this.group;df.forEachRev(this.series,function(_d){_d.cleanGroup(s);});}var t=this.chart.theme,_e,_f,_10,_11=this.events();for(var i=this.series.length-1;i>=0;--i){var run=this.series[i];if(!this.dirty&&!run.dirty){t.skip();this._reconnectEvents(run.name);continue;}run.cleanGroup();if(!run.data.length){run.dirty=false;t.skip();continue;}var _12=t.next(this.opt.areas?"area":"line",[this.opt,run],true),s=run.group,_13=[],_14=[],_15=null,_16,ht=this._hScaler.scaler.getTransformerFromModel(this._hScaler),vt=this._vScaler.scaler.getTransformerFromModel(this._vScaler),_17=this._eventSeries[run.name]=new Array(run.data.length);for(var j=0;j<run.data.length;j++){if(run.data[j]!=null){if(!_15){_15=[];_14.push(j);_13.push(_15);}_15.push(run.data[j]);}else{_15=null;}}for(var seg=0;seg<_13.length;seg++){if(typeof _13[seg][0]=="number"){_16=_4.map(_13[seg],function(v,i){return {x:ht(i+_14[seg]+1)+_c.l,y:_b.height-_c.b-vt(v)};},this);}else{_16=_4.map(_13[seg],function(v,i){return {x:ht(v.x)+_c.l,y:_b.height-_c.b-vt(v.y)};},this);}var _18=this.opt.tension?dc.curve(_16,this.opt.tension):"";if(this.opt.areas&&_16.length>1){var _19=_12.series.fill;var _1a=_4.clone(_16);if(this.opt.tension){var _1b="L"+_1a[_1a.length-1].x+","+(_b.height-_c.b)+" L"+_1a[0].x+","+(_b.height-_c.b)+" L"+_1a[0].x+","+_1a[0].y;run.dyn.fill=s.createPath(_18+" "+_1b).setFill(_19).getFill();}else{_1a.push({x:_16[_16.length-1].x,y:_b.height-_c.b});_1a.push({x:_16[0].x,y:_b.height-_c.b});_1a.push(_16[0]);run.dyn.fill=s.createPolyline(_1a).setFill(_19).getFill();}}if(this.opt.lines||this.opt.markers){_e=_12.series.stroke;if(_12.series.outline){_f=run.dyn.outline=dc.makeStroke(_12.series.outline);_f.width=2*_f.width+_e.width;}}if(this.opt.markers){run.dyn.marker=_12.symbol;}var _1c=null,_1d=null,_1e=null;if(_e&&_12.series.shadow&&_16.length>1){var _1f=_12.series.shadow,_20=_4.map(_16,function(c){return {x:c.x+_1f.dx,y:c.y+_1f.dy};});if(this.opt.lines){if(this.opt.tension){run.dyn.shadow=s.createPath(dc.curve(_20,this.opt.tension)).setStroke(_1f).getStroke();}else{run.dyn.shadow=s.createPolyline(_20).setStroke(_1f).getStroke();}}if(this.opt.markers&&_12.marker.shadow){_1f=_12.marker.shadow;_1e=_4.map(_20,function(c){return s.createPath("M"+c.x+" "+c.y+" "+_12.symbol).setStroke(_1f).setFill(_1f.color);},this);}}if(this.opt.lines&&_16.length>1){if(_f){if(this.opt.tension){run.dyn.outline=s.createPath(_18).setStroke(_f).getStroke();}else{run.dyn.outline=s.createPolyline(_16).setStroke(_f).getStroke();}}if(this.opt.tension){run.dyn.stroke=s.createPath(_18).setStroke(_e).getStroke();}else{run.dyn.stroke=s.createPolyline(_16).setStroke(_e).getStroke();}}if(this.opt.markers){_1c=new Array(_16.length);_1d=new Array(_16.length);_f=null;if(_12.marker.outline){_f=dc.makeStroke(_12.marker.outline);_f.width=2*_f.width+(_12.marker.stroke?_12.marker.stroke.width:0);}_4.forEach(_16,function(c,i){var _21="M"+c.x+" "+c.y+" "+_12.symbol;if(_f){_1d[i]=s.createPath(_21).setStroke(_f);}_1c[i]=s.createPath(_21).setStroke(_12.marker.stroke).setFill(_12.marker.fill);},this);run.dyn.markerFill=_12.marker.fill;run.dyn.markerStroke=_12.marker.stroke;if(_11){_4.forEach(_1c,function(s,i){var o={element:"marker",index:i+_14[seg],run:run,shape:s,outline:_1d[i]||null,shadow:_1e&&_1e[i]||null,cx:_16[i].x,cy:_16[i].y};if(typeof _13[seg][0]=="number"){o.x=i+_14[seg]+1;o.y=_13[seg][i];}else{o.x=_13[seg][i].x;o.y=_13[seg][i].y;}this._connectEvents(o);_17[i+_14[seg]]=o;},this);}else{delete this._eventSeries[run.name];}}}run.dirty=false;}if(this.animate){var _22=this.group;_6.gfx.fx.animateTransform(_4.delegate({shape:_22,duration:_8,transform:[{name:"translate",start:[0,_b.height-_c.b],end:[0,0]},{name:"scale",start:[1,0],end:[1,1]},{name:"original"}]},this.animate)).play();}this.dirty=false;return this;}});})();}}};});