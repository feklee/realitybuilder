/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realitybuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.date.hebrew.Date"],["require","dojox.date.hebrew.numerals"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.date.hebrew.Date"]){_4._hasResource["dojox.date.hebrew.Date"]=true;_4.provide("dojox.date.hebrew.Date");_4.require("dojox.date.hebrew.numerals");_4.declare("dojox.date.hebrew.Date",null,{_MONTH_LENGTH:[[30,30,30],[29,29,30],[29,30,30],[29,29,29],[30,30,30],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29],[30,30,30],[29,29,29]],_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,149],[147,148,149],[176,177,178],[206,207,208],[235,236,237],[265,266,267],[294,295,296],[324,325,326],[353,354,355]],_LEAP_MONTH_START:[[0,0,0],[30,30,30],[59,59,60],[88,89,90],[117,118,119],[147,148,149],[177,178,179],[206,207,208],[236,237,238],[265,266,267],[295,296,297],[324,325,326],[354,355,356],[383,384,385]],_GREGORIAN_MONTH_COUNT:[[31,31,0,0],[28,29,31,31],[31,31,59,60],[30,30,90,91],[31,31,120,121],[30,30,151,152],[31,31,181,182],[31,31,212,213],[30,30,243,244],[31,31,273,274],[30,30,304,305],[31,31,334,335]],_date:0,_month:0,_year:0,_hours:0,_minutes:0,_seconds:0,_milliseconds:0,_day:0,constructor:function(){var _7=arguments.length;if(!_7){this.fromGregorian(new Date());}else{if(_7==1){var _8=arguments[0];if(typeof _8=="number"){_8=new Date(_8);}if(_8 instanceof Date){this.fromGregorian(_8);}else{if(_8==""){this._date=new Date("");}else{this._year=_8._year;this._month=_8._month;this._date=_8._date;this._hours=_8._hours;this._minutes=_8._minutes;this._seconds=_8._seconds;this._milliseconds=_8._milliseconds;}}}else{if(_7>=3){this._year+=arguments[0];this._month+=arguments[1];this._date+=arguments[2];if(this._month>12){console.warn("the month is incorrect , set 0  "+this._month+"   "+this._year);this._month=0;}this._hours+=arguments[3]||0;this._minutes+=arguments[4]||0;this._seconds+=arguments[5]||0;this._milliseconds+=arguments[6]||0;}}}this._setDay();},getDate:function(){return this._date;},getDateLocalized:function(_9){return (_9||_4.locale).match(/^he(?:-.+)?$/)?_6.date.hebrew.numerals.getDayHebrewLetters(this._date):this.getDate();},getMonth:function(){return this._month;},getFullYear:function(){return this._year;},getHours:function(){return this._hours;},getMinutes:function(){return this._minutes;},getSeconds:function(){return this._seconds;},getMilliseconds:function(){return this._milliseconds;},setDate:function(_a){_a=+_a;var _b;if(_a>0){while(_a>(_b=this.getDaysInHebrewMonth(this._month,this._year))){_a-=_b;this._month++;if(this._month>=13){this._year++;this._month-=13;}}}else{while(_a<=0){_b=this.getDaysInHebrewMonth((this._month-1)>=0?(this._month-1):12,((this._month-1)>=0)?this._year:this._year-1);this._month--;if(this._month<0){this._year--;this._month+=13;}_a+=_b;}}this._date=_a;this._setDay();return this;},setFullYear:function(_c,_d,_e){this._year=_c=+_c;if(!this.isLeapYear(_c)&&this._month==5){this._month++;}if(_d!==undefined){this.setMonth(_d);}if(_e!==undefined){this.setDate(_e);}var _f=this.getDaysInHebrewMonth(this._month,this._year);if(_f<this._date){this._date=_f;}this._setDay();return this;},setMonth:function(_10){_10=+_10;if(!this.isLeapYear(this._year)&&_10==5){_10++;}if(_10>=0){while(_10>12){this._year++;_10-=13;if(!this.isLeapYear(this._year)&&_10>=5){_10++;}}}else{while(_10<0){this._year--;_10+=(!this.isLeapYear(this._year)&&_10<-7)?12:13;}}this._month=_10;var _11=this.getDaysInHebrewMonth(this._month,this._year);if(_11<this._date){this._date=_11;}this._setDay();return this;},setHours:function(){var _12=arguments.length;var _13=0;if(_12>=1){_13+=+arguments[0];}if(_12>=2){this._minutes+=+arguments[1];}if(_12>=3){this._seconds+=+arguments[2];}if(_12==4){this._milliseconds+=+arguments[3];}while(_13>=24){this._date++;var _14=this.getDaysInHebrewMonth(this._month,this._year);if(this._date>_14){this._month++;if(!this.isLeapYear(this._year)&&this._month==5){this._month++;}if(this._month>=13){this._year++;this._month-=13;}this._date-=_14;}_13-=24;}this._hours=_13;this._setDay();return this;},setMinutes:function(_15){_15=+_15;this._minutes=_15%60;this.setHours(parseInt(_15/60));this._setDay();return this;},setSeconds:function(_16){_16=+_16;this._seconds=_16%60;this.setMinutes(parseInt(_16/60));this._setDay();return this;},setMilliseconds:function(_17){_17=+_17;this._milliseconds=_17%1000;this.setSeconds(parseInt(_17/1000));this._setDay();return this;},_setDay:function(){var day=this._startOfYear(this._year);if(this._month!=0){day+=(this.isLeapYear(this._year)?this._LEAP_MONTH_START:this._MONTH_START)[this._month][this._yearType(this._year)];}day+=this._date-1;this._day=(day+1)%7;},toString:function(){return this._date+", "+this._month+", "+this._year+"  "+this._hours+":"+this._minutes+":"+this._seconds;},getDaysInHebrewMonth:function(_18,_19){var _1a=(_18==1||_18==2)?this._yearType(_19):0;return (!this.isLeapYear(this._year)&&_18==5)?0:this._MONTH_LENGTH[_18][_1a];},_yearType:function(_1b){var _1c=this._handleGetYearLength(Number(_1b));if(_1c>380){_1c-=30;}var _1d=_1c-353;if(_1d<0||_1d>2){throw new Error("Illegal year length "+_1c+" in year "+_1b);}return _1d;},_handleGetYearLength:function(_1e){return this._startOfYear(_1e+1)-this._startOfYear(_1e);},_startOfYear:function(_1f){var _20=Math.floor((235*_1f-234)/19),_21=_20*(12*1080+793)+11*1080+204,day=_20*29+Math.floor(_21/(24*1080));_21%=24*1080;var wd=day%7;if(wd==2||wd==4||wd==6){day+=1;wd=day%7;}if(wd==1&&_21>15*1080+204&&!this.isLeapYear(_1f)){day+=2;}else{if(wd==0&&_21>21*1080+589&&this.isLeapYear(_1f-1)){day+=1;}}return day;},isLeapYear:function(_22){var x=(_22*12+17)%19;return x>=((x<0)?-7:12);},fromGregorian:function(_23){var _24=this._computeHebrewFields(_23);this._year=_24[0];this._month=_24[1];this._date=_24[2];this._hours=_23.getHours();this._milliseconds=_23.getMilliseconds();this._minutes=_23.getMinutes();this._seconds=_23.getSeconds();this._setDay();return this;},_computeHebrewFields:function(_25){var _26=this._getJulianDayFromGregorianDate(_25),d=_26-347997,m=Math.floor((d*24*1080)/(29*24*1080+12*1080+793)),_27=Math.floor((19*m+234)/235)+1,ys=this._startOfYear(_27),_28=(d-ys);while(_28<1){_27--;ys=this._startOfYear(_27);_28=d-ys;}var _29=this._yearType(_27),_2a=this.isLeapYear(_27)?this._LEAP_MONTH_START:this._MONTH_START,_2b=0;while(_28>_2a[_2b][_29]){_2b++;}_2b--;var _2c=_28-_2a[_2b][_29];return [_27,_2b,_2c];},toGregorian:function(){var _2d=this._year,_2e=this._month,_2f=this._date,day=this._startOfYear(_2d);if(_2e!=0){day+=(this.isLeapYear(_2d)?this._LEAP_MONTH_START:this._MONTH_START)[_2e][this._yearType(_2d)];}var _30=(_2f+day+347997),_31=_30-1721426;var rem=[];var _32=this._floorDivide(_31,146097,rem),_33=this._floorDivide(rem[0],36524,rem),n4=this._floorDivide(rem[0],1461,rem),n1=this._floorDivide(rem[0],365,rem),_34=400*_32+100*_33+4*n4+n1,_35=rem[0];if(_33==4||n1==4){_35=365;}else{++_34;}var _36=!(_34%4)&&(_34%100||!(_34%400)),_37=0,_38=_36?60:59;if(_35>=_38){_37=_36?1:2;}var _39=Math.floor((12*(_35+_37)+6)/367);var _3a=_35-this._GREGORIAN_MONTH_COUNT[_39][_36?3:2]+1;return new Date(_34,_39,_3a,this._hours,this._minutes,this._seconds,this._milliseconds);},_floorDivide:function(_3b,_3c,_3d){if(_3b>=0){_3d[0]=(_3b%_3c);return Math.floor(_3b/_3c);}var _3e=Math.floor(_3b/_3c);_3d[0]=_3b-(_3e*_3c);return _3e;},getDay:function(){var _3f=this._year,_40=this._month,_41=this._date,day=this._startOfYear(_3f);if(_40!=0){day+=(this.isLeapYear(_3f)?this._LEAP_MONTH_START:this._MONTH_START)[_40][this._yearType(_3f)];}day+=_41-1;return (day+1)%7;},_getJulianDayFromGregorianDate:function(_42){var _43=_42.getFullYear(),_44=_42.getMonth(),d=_42.getDate(),_45=!(_43%4)&&(_43%100||!(_43%400)),y=_43-1;var _46=365*y+Math.floor(y/4)-Math.floor(y/100)+Math.floor(y/400)+1721426-1;if(_44!=0){_46+=this._GREGORIAN_MONTH_COUNT[_44][_45?3:2];}_46+=d;return _46;}});_6.date.hebrew.Date.prototype.valueOf=function(){return this.toGregorian().valueOf();};}}};});