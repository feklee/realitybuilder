/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realityBuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.grid.enhanced.plugins.Filter"],["requireLocalization","dojox.grid.enhanced","Filter",null,"ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hr,hu,it,ja,kk,ko,nb,nl,pl,pt,pt-pt,ro,ru,sk,sl,sv,th,tr,zh,zh-tw","ROOT,ar,ca,cs,da,de,el,es,fi,fr,he,hr,hu,it,ja,kk,ko,nb,nl,pl,pt,pt-pt,ro,ru,sk,sl,sv,th,tr,zh,zh-tw"],["require","dojox.grid.enhanced._Plugin"],["require","dojox.grid.enhanced.plugins.Dialog"],["require","dojox.grid.enhanced.plugins.filter.FilterLayer"],["require","dojox.grid.enhanced.plugins.filter.FilterBar"],["require","dojox.grid.enhanced.plugins.filter.FilterDefDialog"],["require","dojox.grid.enhanced.plugins.filter.FilterStatusTip"],["require","dojox.grid.enhanced.plugins.filter.ClearFilterConfirm"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.grid.enhanced.plugins.Filter"]){_4._hasResource["dojox.grid.enhanced.plugins.Filter"]=true;_4.provide("dojox.grid.enhanced.plugins.Filter");_4.require("dojox.grid.enhanced._Plugin");_4.require("dojox.grid.enhanced.plugins.Dialog");_4.require("dojox.grid.enhanced.plugins.filter.FilterLayer");_4.require("dojox.grid.enhanced.plugins.filter.FilterBar");_4.require("dojox.grid.enhanced.plugins.filter.FilterDefDialog");_4.require("dojox.grid.enhanced.plugins.filter.FilterStatusTip");_4.require("dojox.grid.enhanced.plugins.filter.ClearFilterConfirm");(function(){var ns=_6.grid.enhanced.plugins,_7=ns.filter;_4.declare("dojox.grid.enhanced.plugins.Filter",_6.grid.enhanced._Plugin,{name:"filter",constructor:function(_8,_9){this.grid=_8;this.nls=_4.i18n.getLocalization("dojox.grid.enhanced","Filter");_9=this.args=_4.isObject(_9)?_9:{};if(typeof _9.ruleCount!="number"||_9.ruleCount<0){_9.ruleCount=3;}this._wrapStore();var _a={"plugin":this};this.clearFilterDialog=new _6.grid.enhanced.plugins.Dialog({refNode:this.grid.domNode,title:this.nls["clearFilterDialogTitle"],content:new _7.ClearFilterConfirm(_a)});this.filterDefDialog=new _7.FilterDefDialog(_a);this.filterBar=new _7.FilterBar(_a);this.filterStatusTip=new _7.FilterStatusTip(_a);_8.onFilterDefined=function(){};this.connect(_8.layer("filter"),"onFilterDefined",function(_b){_8.onFilterDefined(_8.getFilter(),_8.getFilterRelation());});},destroy:function(){this.inherited(arguments);try{this.grid.unwrap("filter");this.filterBar.destroyRecursive();this.filterBar=null;this.clearFilterDialog.destroyRecursive();this.clearFilterDialog=null;this.filterStatusTip.destroy();this.filterStatusTip=null;this.filterDefDialog.destroy();this.filterDefDialog=null;this.grid=null;this.nls=null;this.args=null;}catch(e){console.warn("Filter.destroy() error:",e);}},_wrapStore:function(){var g=this.grid;var _c=this.args;var _d=_c.isServerSide?new _7.ServerSideFilterLayer(_c):new _7.ClientSideFilterLayer({cacheSize:_c.filterCacheSize,fetchAll:_c.fetchAllOnFirstFilter,getter:this._clientFilterGetter});ns.wrap(g,"_storeLayerFetch",_d);this.connect(g,"_onDelete",_4.hitch(_d,"invalidate"));},onSetStore:function(_e){this.filterDefDialog.clearFilter(true);},_clientFilterGetter:function(_f,_10,_11){return _10.get(_11,_f);}});})();_6.grid.EnhancedGrid.registerPlugin(_6.grid.enhanced.plugins.Filter);}}};});