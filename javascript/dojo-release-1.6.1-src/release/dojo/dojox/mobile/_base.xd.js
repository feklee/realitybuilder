/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realityBuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.mobile._base"],["require","dijit._WidgetBase"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.mobile._base"]){_4._hasResource["dojox.mobile._base"]=true;_4.provide("dojox.mobile._base");_4.require("dijit._WidgetBase");_4.isBB=(navigator.userAgent.indexOf("BlackBerry")!=-1)&&!_4.isWebKit;_4.declare("dojox.mobile.View",_5._WidgetBase,{selected:false,keepScrollPos:true,_started:false,constructor:function(_7,_8){if(_8){_4.byId(_8).style.visibility="hidden";}},buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("DIV");this.domNode.className="mblView";this.connect(this.domNode,"webkitAnimationEnd","onAnimationEnd");this.connect(this.domNode,"webkitAnimationStart","onAnimationStart");var id=location.href.match(/#(\w+)([^\w=]|$)/)?RegExp.$1:null;this._visible=this.selected&&!id||this.id==id;if(this.selected){_6.mobile._defaultView=this;}},startup:function(){if(this._started){return;}var _9=this;setTimeout(function(){if(!_9._visible){_9.domNode.style.display="none";}else{_6.mobile.currentView=_9;_9.onStartView();}_9.domNode.style.visibility="visible";},_4.isIE?100:0);this._started=true;},onStartView:function(){},onBeforeTransitionIn:function(_a,_b,_c,_d,_e){},onAfterTransitionIn:function(_f,dir,_10,_11,_12){},onBeforeTransitionOut:function(_13,dir,_14,_15,_16){},onAfterTransitionOut:function(_17,dir,_18,_19,_1a){},_saveState:function(_1b,dir,_1c,_1d,_1e){this._context=_1d;this._method=_1e;if(_1c=="none"||!_4.isWebKit){_1c=null;}this._moveTo=_1b;this._dir=dir;this._transition=_1c;this._arguments=[];var i;for(i=0;i<arguments.length;i++){this._arguments.push(arguments[i]);}this._args=[];if(_1d||_1e){for(i=5;i<arguments.length;i++){this._args.push(arguments[i]);}}},performTransition:function(_1f,dir,_20,_21,_22){if(_4.hash){if(typeof (_1f)=="string"&&_1f.charAt(0)=="#"&&!_6.mobile._params){_6.mobile._params=[];for(var i=0;i<arguments.length;i++){_6.mobile._params.push(arguments[i]);}_4.hash(_1f);return;}}this._saveState.apply(this,arguments);var _23;if(_1f){if(typeof (_1f)=="string"){_1f.match(/^#?([^&]+)/);_23=RegExp.$1;}else{_23=_1f;}}else{if(!this._dummyNode){this._dummyNode=_4.doc.createElement("DIV");_4.body().appendChild(this._dummyNode);}_23=this._dummyNode;}var _24=this.domNode;_23=this.toNode=_4.byId(_23);if(!_23){alert("dojox.mobile.View#performTransition: destination view not found: "+_23);}_23.style.visibility="hidden";_23.style.display="";this.onBeforeTransitionOut.apply(this,arguments);var _25=_5.byNode(_23);if(_25){if(this.keepScrollPos&&!_5.getEnclosingWidget(this.domNode.parentNode)){var _26=_4.body().scrollTop||_4.doc.documentElement.scrollTop||_4.global.pageYOffset||0;if(dir==1){_23.style.top="0px";if(_26>1){_24.style.top=-_26+"px";if(_4.config["mblHideAddressBar"]!==false){setTimeout(function(){_4.global.scrollTo(0,1);},0);}}}else{if(_26>1||_23.offsetTop!==0){var _27=-_23.offsetTop;_23.style.top="0px";_24.style.top=_27-_26+"px";if(_4.config["mblHideAddressBar"]!==false&&_27>0){setTimeout(function(){_4.global.scrollTo(0,_27+1);},0);}}}}else{_23.style.top="0px";}_25.onBeforeTransitionIn.apply(_25,arguments);}_23.style.display="none";_23.style.visibility="visible";this._doTransition(_24,_23,_20,dir);},_doTransition:function(_28,_29,_2a,dir){var rev=(dir==-1)?" reverse":"";_29.style.display="";if(!_2a||_2a=="none"){this.domNode.style.display="none";this.invokeCallback();}else{_4.addClass(_28,_2a+" out"+rev);_4.addClass(_29,_2a+" in"+rev);}},onAnimationStart:function(e){},onAnimationEnd:function(e){var _2b=false;if(_4.hasClass(this.domNode,"out")){_2b=true;this.domNode.style.display="none";_4.forEach([this._transition,"in","out","reverse"],function(s){_4.removeClass(this.domNode,s);},this);}if(e.animationName.indexOf("shrink")===0){var li=e.target;li.style.display="none";_4.removeClass(li,"mblCloseContent");}if(_2b){this.invokeCallback();}this.domNode&&(this.domNode.className="mblView");},invokeCallback:function(){this.onAfterTransitionOut.apply(this,this._arguments);var _2c=_5.byNode(this.toNode);if(_2c){_2c.onAfterTransitionIn.apply(_2c,this._arguments);}_6.mobile.currentView=_2c;var c=this._context,m=this._method;if(!c&&!m){return;}if(!m){m=c;c=null;}c=c||_4.global;if(typeof (m)=="string"){c[m].apply(c,this._args);}else{m.apply(c,this._args);}},getShowingView:function(){var _2d=this.domNode.parentNode.childNodes;for(var i=0;i<_2d.length;i++){if(_4.hasClass(_2d[i],"mblView")&&_4.style(_2d[i],"display")!="none"){return _5.byNode(_2d[i]);}}},show:function(){var fs=this.getShowingView().domNode.style;var ts=this.domNode.style;fs.display="none";ts.display="";_6.mobile.currentView=this;},addChild:function(_2e){this.containerNode.appendChild(_2e.domNode);}});_4.declare("dojox.mobile.Heading",_5._WidgetBase,{back:"",href:"",moveTo:"",transition:"slide",label:"",iconBase:"",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("H1");this.domNode.className="mblHeading";this._view=_5.getEnclosingWidget(this.domNode.parentNode);if(this.label){this.domNode.appendChild(document.createTextNode(this.label));}else{this.label="";_4.forEach(this.domNode.childNodes,function(n){if(n.nodeType==3){this.label+=n.nodeValue;}},this);this.label=_4.trim(this.label);}if(this.back){var btn=_4.create("DIV",{className:"mblArrowButton"},this.domNode,"first");var _2f=_4.create("DIV",{className:"mblArrowButtonHead"},btn);var _30=_4.create("DIV",{className:"mblArrowButtonBody mblArrowButtonText"},btn);this._body=_30;this._head=_2f;this._btn=btn;_30.innerHTML=this.back;this.connect(_30,"onclick","onClick");var _31=_4.create("DIV",{className:"mblArrowButtonNeck"},btn);btn.style.width=_30.offsetWidth+_2f.offsetWidth+"px";this.setLabel(this.label);}},startup:function(){if(this._btn){this._btn.style.width=this._body.offsetWidth+this._head.offsetWidth+"px";}},onClick:function(e){var h1=this.domNode;_4.addClass(h1,"mblArrowButtonSelected");setTimeout(function(){_4.removeClass(h1,"mblArrowButtonSelected");},1000);this.goTo(this.moveTo,this.href);},setLabel:function(_32){if(_32!=this.label){this.label=_32;this.domNode.firstChild.nodeValue=_32;}},goTo:function(_33,_34){if(!this._view){this._view=_5.byNode(this.domNode.parentNode);}if(!this._view){return;}if(_34){this._view.performTransition(null,-1,this.transition,this,function(){location.href=_34;});}else{if(_6.mobile.app&&_6.mobile.app.STAGE_CONTROLLER_ACTIVE){_4.publish("/dojox/mobile/app/goback");}else{this._view.performTransition(_33,-1,this.transition);}}}});_4.declare("dojox.mobile.RoundRect",_5._WidgetBase,{shadow:false,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("DIV");this.domNode.className=this.shadow?"mblRoundRect mblShadow":"mblRoundRect";}});_4.declare("dojox.mobile.RoundRectCategory",_5._WidgetBase,{label:"",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("H2");this.domNode.className="mblRoundRectCategory";if(this.label){this.domNode.innerHTML=this.label;}else{this.label=this.domNode.innerHTML;}}});_4.declare("dojox.mobile.EdgeToEdgeCategory",_6.mobile.RoundRectCategory,{buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeCategory";}});_4.declare("dojox.mobile.RoundRectList",_5._WidgetBase,{transition:"slide",iconBase:"",iconPos:"",buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("UL");this.domNode.className="mblRoundRectList";},addChild:function(_35){this.containerNode.appendChild(_35.domNode);_35.inheritParams();_35.setIcon();}});_4.declare("dojox.mobile.EdgeToEdgeList",_6.mobile.RoundRectList,{stateful:false,buildRendering:function(){this.inherited(arguments);this.domNode.className="mblEdgeToEdgeList";}});_4.declare("dojox.mobile.AbstractItem",_5._WidgetBase,{icon:"",iconPos:"",href:"",hrefTarget:"",moveTo:"",scene:"",clickable:false,url:"",urlTarget:"",transition:"",transitionDir:1,callback:null,sync:true,label:"",toggle:false,_duration:800,inheritParams:function(){var _36=this.getParentWidget();if(_36){if(!this.transition){this.transition=_36.transition;}if(!this.icon){this.icon=_36.iconBase;}if(!this.iconPos){this.iconPos=_36.iconPos;}}},findCurrentView:function(_37){var w;if(_37){w=_5.byId(_37);if(w){return w.getShowingView();}}var n=this.domNode.parentNode;while(true){w=_5.getEnclosingWidget(n);if(!w){return null;}if(w.performTransition){break;}n=w.domNode.parentNode;}return w;},transitionTo:function(_38,_39,url,_3a){var w=this.findCurrentView(_38);if(!w||_38&&w===_5.byId(_38)){return;}if(_39){if(this.hrefTarget){_6.mobile.openWindow(this.href,this.hrefTarget);}else{w.performTransition(null,this.transitionDir,this.transition,this,function(){location.href=_39;});}return;}else{if(_3a){_4.publish("/dojox/mobile/app/pushScene",[_3a]);return;}}if(url){var id;if(_6.mobile._viewMap&&_6.mobile._viewMap[url]){id=_6.mobile._viewMap[url];}else{var _3b=this._text;if(!_3b){if(this.sync){_3b=_4.trim(_4._getText(url));}else{_4["require"]("dojo._base.xhr");var _3c=_6.mobile.ProgressIndicator.getInstance();_4.body().appendChild(_3c.domNode);_3c.start();var xhr=_4.xhrGet({url:url,handleAs:"text"});xhr.addCallback(_4.hitch(this,function(_3d,_3e){_3c.stop();if(_3d){this._text=_3d;this.transitionTo(_38,_39,url,_3a);}}));xhr.addErrback(function(_3f){_3c.stop();alert("Failed to load "+url+"\n"+(_3f.description||_3f));});return;}}this._text=null;id=this._parse(_3b);if(!_6.mobile._viewMap){_6.mobile._viewMap=[];}_6.mobile._viewMap[url]=id;}_38=id;w=this.findCurrentView(_38)||w;}w.performTransition(_38,this.transitionDir,this.transition,this.callback&&this,this.callback);},_parse:function(_40){var _41=_4.create("DIV");var _42;var id=this.urlTarget;var _43=_5.byId(id)&&_5.byId(id).containerNode||_4.byId(id)||_6.mobile.currentView&&_6.mobile.currentView.domNode.parentNode||_4.body();if(_40.charAt(0)=="<"){_41.innerHTML=_40;_42=_41.firstChild;if(!_42&&_42.nodeType!=1){alert("dojox.mobile.AbstractItem#transitionTo: invalid view content");return;}_42.setAttribute("_started","true");_42.style.visibility="hidden";_43.appendChild(_41);(_6.mobile.parser||_4.parser).parse(_41);_43.appendChild(_43.removeChild(_41).firstChild);}else{if(_40.charAt(0)=="{"){_43.appendChild(_41);this._ws=[];_42=this._instantiate(eval("("+_40+")"),_41);for(var i=0;i<this._ws.length;i++){var w=this._ws[i];w.startup&&!w._started&&(!w.getParent||!w.getParent())&&w.startup();}this._ws=null;}}_42.style.display="none";_42.style.visibility="visible";var id=_42.id;return _4.hash?"#"+id:id;},_instantiate:function(obj,_44,_45){var _46;for(var key in obj){if(key.charAt(0)=="@"){continue;}var cls=_4.getObject(key);if(!cls){continue;}var _47={};var _48=cls.prototype;var _49=_4.isArray(obj[key])?obj[key]:[obj[key]];for(var i=0;i<_49.length;i++){for(var _4a in _49[i]){if(_4a.charAt(0)=="@"){var val=_49[i][_4a];_4a=_4a.substring(1);if(typeof _48[_4a]=="string"){_47[_4a]=val;}else{if(typeof _48[_4a]=="number"){_47[_4a]=val-0;}else{if(typeof _48[_4a]=="boolean"){_47[_4a]=(val!="false");}else{if(typeof _48[_4a]=="object"){_47[_4a]=eval("("+val+")");}}}}}}_46=new cls(_47,_44);if(!_44){this._ws.push(_46);}if(_45&&_45.addChild){_45.addChild(_46);}this._instantiate(_49[i],null,_46);}}return _46&&_46.domNode;},createDomButton:function(_4b,_4c){var s=_4b.className;if(s.match(/mblDomButton\w+_(\d+)/)){var _4d=RegExp.$1-0;for(var i=0,p=(_4c||_4b);i<_4d;i++){p=_4.create("DIV",null,p);}}},select:function(_4e){},defaultClickAction:function(){if(this.toggle){this.select(this.selected);}else{if(!this.selected){this.select();if(!this.selectOne){var _4f=this;setTimeout(function(){_4f.select(true);},this._duration);}if(this.moveTo||this.href||this.url||this.scene){this.transitionTo(this.moveTo,this.href,this.url,this.scene);}}}},getParentWidget:function(){var ref=this.srcNodeRef||this.domNode;return ref&&ref.parentNode?_5.getEnclosingWidget(ref.parentNode):null;}});_4.declare("dojox.mobile.ListItem",_6.mobile.AbstractItem,{rightText:"",btnClass:"",anchorLabel:false,noArrow:false,selected:false,buildRendering:function(){this.inheritParams();var a=this.anchorNode=_4.create("A");a.className="mblListItemAnchor";var box=_4.create("DIV");box.className="mblListItemTextBox";if(this.anchorLabel){box.style.cursor="pointer";}var r=this.srcNodeRef;if(r){for(var i=0,len=r.childNodes.length;i<len;i++){box.appendChild(r.removeChild(r.firstChild));}}if(this.label){box.appendChild(_4.doc.createTextNode(this.label));}a.appendChild(box);if(this.rightText){this._setRightTextAttr(this.rightText);}if(this.moveTo||this.href||this.url||this.clickable){var _50=this.getParentWidget();if(!this.noArrow&&!(_50&&_50.stateful)){var _51=_4.create("DIV");_51.className="mblArrow";a.appendChild(_51);}this.connect(a,"onclick","onClick");}else{if(this.btnClass){var div=this.btnNode=_4.create("DIV");div.className=this.btnClass+" mblRightButton";div.appendChild(_4.create("DIV"));div.appendChild(_4.create("P"));var _52=_4.create("DIV");_52.className="mblRightButtonContainer";_52.appendChild(div);a.appendChild(_52);_4.addClass(a,"mblListItemAnchorHasRightButton");setTimeout(function(){_52.style.width=div.offsetWidth+"px";_52.style.height=div.offsetHeight+"px";if(_4.isIE){a.parentNode.style.height=a.parentNode.offsetHeight+"px";}},0);}}if(this.anchorLabel){box.style.display="inline";}var li=this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("LI");li.className="mblListItem"+(this.selected?" mblItemSelected":"");li.appendChild(a);this.setIcon();},setIcon:function(){if(this.iconNode){return;}var a=this.anchorNode;if(this.icon&&this.icon!="none"){var img=this.iconNode=_4.create("IMG");img.className="mblListItemIcon";img.src=this.icon;this.domNode.insertBefore(img,a);_6.mobile.setupIcon(this.iconNode,this.iconPos);_4.removeClass(a,"mblListItemAnchorNoIcon");}else{_4.addClass(a,"mblListItemAnchorNoIcon");}},onClick:function(e){var a=e.currentTarget;var li=a.parentNode;if(_4.hasClass(li,"mblItemSelected")){return;}if(this.anchorLabel){for(var p=e.target;p.tagName!="LI";p=p.parentNode){if(p.className=="mblListItemTextBox"){_4.addClass(p,"mblListItemTextBoxSelected");setTimeout(function(){_4.removeClass(p,"mblListItemTextBoxSelected");},1000);this.onAnchorLabelClicked(e);return;}}}if(this.getParentWidget().stateful){for(var i=0,c=li.parentNode.childNodes;i<c.length;i++){_4.removeClass(c[i],"mblItemSelected");}}else{setTimeout(function(){_4.removeClass(li,"mblItemSelected");},1000);}_4.addClass(li,"mblItemSelected");this.transitionTo(this.moveTo,this.href,this.url,this.scene);},onAnchorLabelClicked:function(e){},_setRightTextAttr:function(_53){this.rightText=_53;if(!this._rightTextNode){this._rightTextNode=_4.create("DIV",{className:"mblRightText"},this.anchorNode);}this._rightTextNode.innerHTML=_53;}});_4.declare("dojox.mobile.Switch",_5._WidgetBase,{value:"on",leftLabel:"ON",rightLabel:"OFF",_width:53,buildRendering:function(){this.domNode=this.srcNodeRef||_4.doc.createElement("DIV");this.domNode.className="mblSwitch";this.domNode.innerHTML="<div class=\"mblSwitchInner\">"+"<div class=\"mblSwitchBg mblSwitchBgLeft\">"+"<div class=\"mblSwitchText mblSwitchTextLeft\">"+this.leftLabel+"</div>"+"</div>"+"<div class=\"mblSwitchBg mblSwitchBgRight\">"+"<div class=\"mblSwitchText mblSwitchTextRight\">"+this.rightLabel+"</div>"+"</div>"+"<div class=\"mblSwitchKnob\"></div>"+"</div>";var n=this.inner=this.domNode.firstChild;this.left=n.childNodes[0];this.right=n.childNodes[1];this.knob=n.childNodes[2];_4.addClass(this.domNode,(this.value=="on")?"mblSwitchOn":"mblSwitchOff");this[this.value=="off"?"left":"right"].style.display="none";},postCreate:function(){this.connect(this.knob,"onclick","onClick");this.connect(this.knob,"touchstart","onTouchStart");this.connect(this.knob,"mousedown","onTouchStart");},_changeState:function(_54){this.inner.style.left="";_4.addClass(this.domNode,"mblSwitchAnimation");_4.removeClass(this.domNode,(_54=="on")?"mblSwitchOff":"mblSwitchOn");_4.addClass(this.domNode,(_54=="on")?"mblSwitchOn":"mblSwitchOff");var _55=this;setTimeout(function(){_55[_54=="off"?"left":"right"].style.display="none";_4.removeClass(_55.domNode,"mblSwitchAnimation");},300);},onClick:function(e){if(this._moved){return;}this.value=(this.value=="on")?"off":"on";this._changeState(this.value);this.onStateChanged(this.value);},onTouchStart:function(e){this._moved=false;this.innerStartX=this.inner.offsetLeft;if(e.targetTouches){this.touchStartX=e.targetTouches[0].clientX;this._conn1=_4.connect(this.inner,"touchmove",this,"onTouchMove");this._conn2=_4.connect(this.inner,"touchend",this,"onTouchEnd");}this.left.style.display="block";this.right.style.display="block";_4.stopEvent(e);},onTouchMove:function(e){e.preventDefault();var dx;if(e.targetTouches){if(e.targetTouches.length!=1){return false;}dx=e.targetTouches[0].clientX-this.touchStartX;}else{dx=e.clientX-this.touchStartX;}var pos=this.innerStartX+dx;var d=10;if(pos<=-(this._width-d)){pos=-this._width;}if(pos>=-d){pos=0;}this.inner.style.left=pos+"px";this._moved=true;},onTouchEnd:function(e){_4.disconnect(this._conn1);_4.disconnect(this._conn2);if(this.innerStartX==this.inner.offsetLeft){if(_4.isWebKit){var ev=_4.doc.createEvent("MouseEvents");ev.initEvent("click",true,true);this.knob.dispatchEvent(ev);}return;}var _56=(this.inner.offsetLeft<-(this._width/2))?"off":"on";this._changeState(_56);if(_56!=this.value){this.value=_56;this.onStateChanged(this.value);}},onStateChanged:function(_57){}});_4.declare("dojox.mobile.Button",_5._WidgetBase,{btnClass:"mblBlueButton",duration:1000,label:null,buildRendering:function(){this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("BUTTON");this.domNode.className="mblButton "+this.btnClass;if(this.label){this.domNode.innerHTML=this.label;}this.connect(this.domNode,"onclick","onClick");},onClick:function(e){var _58=this.domNode;var c="mblButtonSelected "+this.btnClass+"Selected";_4.addClass(_58,c);setTimeout(function(){_4.removeClass(_58,c);},this.duration);}});_4.declare("dojox.mobile.ToolBarButton",_6.mobile.AbstractItem,{selected:false,_defaultColor:"mblColorDefault",_selColor:"mblColorDefaultSel",buildRendering:function(){this.inheritParams();this.domNode=this.containerNode=this.srcNodeRef||_4.doc.createElement("div");_4.addClass(this.domNode,"mblToolbarButton mblArrowButtonText");var _59;if(this.selected){_59=this._selColor;}else{if(this.domNode.className.indexOf("mblColor")==-1){_59=this._defaultColor;}}_4.addClass(this.domNode,_59);if(this.label){this.domNode.innerHTML=this.label;}else{this.label=this.domNode.innerHTML;}if(this.icon&&this.icon!="none"){var img;if(this.iconPos){var _5a=_4.create("DIV",null,this.domNode);img=_4.create("IMG",null,_5a);img.style.position="absolute";var arr=this.iconPos.split(/[ ,]/);_4.style(_5a,{position:"relative",width:arr[2]+"px",height:arr[3]+"px"});}else{img=_4.create("IMG",null,this.domNode);}img.src=this.icon;_6.mobile.setupIcon(img,this.iconPos);this.iconNode=img;}this.createDomButton(this.domNode);this.connect(this.domNode,"onclick","onClick");},select:function(_5b){_4.toggleClass(this.domNode,this._selColor,!_5b);this.selected=!_5b;},onClick:function(e){this.defaultClickAction();}});_4.declare("dojox.mobile.ProgressIndicator",null,{interval:100,colors:["#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#C0C0C0","#B8B9B8","#AEAFAE","#A4A5A4","#9A9A9A","#8E8E8E","#838383"],_bars:[],constructor:function(){this.domNode=_4.create("DIV");this.domNode.className="mblProgContainer";for(var i=0;i<12;i++){var div=_4.create("DIV");div.className="mblProg mblProg"+i;this.domNode.appendChild(div);this._bars.push(div);}},start:function(){var _5c=0;var _5d=this;this.timer=setInterval(function(){_5c--;_5c=_5c<0?11:_5c;var c=_5d.colors;for(var i=0;i<12;i++){var idx=(_5c+i)%12;_5d._bars[i].style.backgroundColor=c[idx];}},this.interval);},stop:function(){if(this.timer){clearInterval(this.timer);}this.timer=null;if(this.domNode.parentNode){this.domNode.parentNode.removeChild(this.domNode);}}});_6.mobile.ProgressIndicator._instance=null;_6.mobile.ProgressIndicator.getInstance=function(){if(!_6.mobile.ProgressIndicator._instance){_6.mobile.ProgressIndicator._instance=new _6.mobile.ProgressIndicator();}return _6.mobile.ProgressIndicator._instance;};_6.mobile.addClass=function(){var _5e=document.getElementsByTagName("link");for(var i=0,len=_5e.length;i<len;i++){if(_5e[i].href.match(/dojox\/mobile\/themes\/(\w+)\//)){_6.mobile.theme=RegExp.$1;_4.addClass(_4.body(),_6.mobile.theme);break;}}};_6.mobile.setupIcon=function(_5f,_60){if(_5f&&_60){var arr=_4.map(_60.split(/[ ,]/),function(_61){return _61-0;});var t=arr[0];var r=arr[1]+arr[2];var b=arr[0]+arr[3];var l=arr[1];_5f.style.clip="rect("+t+"px "+r+"px "+b+"px "+l+"px)";_5f.style.top=_4.style(_5f,"top")-t+"px";_5f.style.left=_4.style(_5f.parentNode,"paddingLeft")-l+"px";}};_6.mobile.hideAddressBar=function(){_4.body().style.minHeight="1000px";setTimeout(function(){scrollTo(0,1);},100);setTimeout(function(){scrollTo(0,1);},400);setTimeout(function(){scrollTo(0,1);_4.body().style.minHeight=(_4.global.innerHeight||_4.doc.documentElement.clientHeight)+"px";},1000);};_6.mobile.openWindow=function(url,_62){_4.global.open(url,_62||"_blank");};_4._loaders.unshift(function(){var _63=_4.body().getElementsByTagName("*");var i,len,s;len=_63.length;for(i=0;i<len;i++){s=_63[i].getAttribute("dojoType");if(s){if(_63[i].parentNode.getAttribute("lazy")=="true"){_63[i].setAttribute("__dojoType",s);_63[i].removeAttribute("dojoType");}}}});_4.addOnLoad(function(){_6.mobile.addClass();if(_4.config["mblApplyPageStyles"]!==false){_4.addClass(_4.doc.documentElement,"mobile");}if(_4.config["mblHideAddressBar"]!==false){_6.mobile.hideAddressBar();if(_4.config["mblAlwaysHideAddressBar"]==true){if(_4.global.onorientationchange!==undefined){_4.connect(_4.global,"onorientationchange",_6.mobile.hideAddressBar);}else{_4.connect(_4.global,"onresize",_6.mobile.hideAddressBar);}}}var _64=_4.body().getElementsByTagName("*");var i,len=_64.length,s;for(i=0;i<len;i++){s=_64[i].getAttribute("__dojoType");if(s){_64[i].setAttribute("dojoType",s);_64[i].removeAttribute("__dojoType");}}if(_4.hash){var _65=function(_66){var arr;arr=_5.findWidgets(_66);var _67=arr;for(var i=0;i<_67.length;i++){arr=arr.concat(_65(_67[i].containerNode));}return arr;};_4.subscribe("/dojo/hashchange",null,function(_68){var _69=_6.mobile.currentView;if(!_69){return;}var _6a=_6.mobile._params;if(!_6a){var _6b=_68?_68:_6.mobile._defaultView.id;var _6c=_65(_69.domNode);var dir=1,_6d="slide";for(i=0;i<_6c.length;i++){var w=_6c[i];if("#"+_6b==w.moveTo){_6d=w.transition;dir=(w instanceof _6.mobile.Heading)?-1:1;break;}}_6a=[_6b,dir,_6d];}_69.performTransition.apply(_69,_6a);_6.mobile._params=null;});}_4.body().style.visibility="visible";});_5.getEnclosingWidget=function(_6e){while(_6e&&_6e.tagName!=="BODY"){if(_6e.getAttribute&&_6e.getAttribute("widgetId")){return _5.registry.byId(_6e.getAttribute("widgetId"));}_6e=_6e._parentNode||_6e.parentNode;}return null;};}}};});