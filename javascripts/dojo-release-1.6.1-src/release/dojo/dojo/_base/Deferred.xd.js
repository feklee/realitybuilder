/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realityBuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojo._base.Deferred"],["require","dojo._base.lang"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojo._base.Deferred"]){_4._hasResource["dojo._base.Deferred"]=true;_4.provide("dojo._base.Deferred");_4.require("dojo._base.lang");(function(){var _7=function(){};var _8=Object.freeze||function(){};_4.Deferred=function(_9){var _a,_b,_c,_d,_e;var _f=(this.promise={});function _10(_11){if(_b){throw new Error("This deferred has already been resolved");}_a=_11;_b=true;_12();};function _12(){var _13;while(!_13&&_e){var _14=_e;_e=_e.next;if((_13=(_14.progress==_7))){_b=false;}var _15=(_c?_14.error:_14.resolved);if(_15){try{var _16=_15(_a);if(_16&&typeof _16.then==="function"){_16.then(_4.hitch(_14.deferred,"resolve"),_4.hitch(_14.deferred,"reject"));continue;}var _17=_13&&_16===undefined;if(_13&&!_17){_c=_16 instanceof Error;}_14.deferred[_17&&_c?"reject":"resolve"](_17?_a:_16);}catch(e){_14.deferred.reject(e);}}else{if(_c){_14.deferred.reject(_a);}else{_14.deferred.resolve(_a);}}}};this.resolve=this.callback=function(_18){this.fired=0;this.results=[_18,null];_10(_18);};this.reject=this.errback=function(_19){_c=true;this.fired=1;_10(_19);this.results=[null,_19];if(!_19||_19.log!==false){(_4.config.deferredOnError||function(x){console.error(x);})(_19);}};this.progress=function(_1a){var _1b=_e;while(_1b){var _1c=_1b.progress;_1c&&_1c(_1a);_1b=_1b.next;}};this.addCallbacks=function(_1d,_1e){this.then(_1d,_1e,_7);return this;};this.then=_f.then=function(_1f,_20,_21){var _22=_21==_7?this:new _4.Deferred(_f.cancel);var _23={resolved:_1f,error:_20,progress:_21,deferred:_22};if(_e){_d=_d.next=_23;}else{_e=_d=_23;}if(_b){_12();}return _22.promise;};var _24=this;this.cancel=_f.cancel=function(){if(!_b){var _25=_9&&_9(_24);if(!_b){if(!(_25 instanceof Error)){_25=new Error(_25);}_25.log=false;_24.reject(_25);}}};_8(_f);};_4.extend(_4.Deferred,{addCallback:function(_26){return this.addCallbacks(_4.hitch.apply(_4,arguments));},addErrback:function(_27){return this.addCallbacks(null,_4.hitch.apply(_4,arguments));},addBoth:function(_28){var _29=_4.hitch.apply(_4,arguments);return this.addCallbacks(_29,_29);},fired:-1});})();_4.when=function(_2a,_2b,_2c,_2d){if(_2a&&typeof _2a.then==="function"){return _2a.then(_2b,_2c,_2d);}return _2b(_2a);};}}};});