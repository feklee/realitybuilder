/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realityBuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojo._base.fx"],["require","dojo._base.Color"],["require","dojo._base.connect"],["require","dojo._base.lang"],["require","dojo._base.html"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojo._base.fx"]){_4._hasResource["dojo._base.fx"]=true;_4.provide("dojo._base.fx");_4.require("dojo._base.Color");_4.require("dojo._base.connect");_4.require("dojo._base.lang");_4.require("dojo._base.html");(function(){var d=_4;var _7=d._mixin;_4._Line=function(_8,_9){this.start=_8;this.end=_9;};_4._Line.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};_4.Animation=function(_a){_7(this,_a);if(d.isArray(this.curve)){this.curve=new d._Line(this.curve[0],this.curve[1]);}};d._Animation=d.Animation;d.extend(_4.Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _b=this._percent,_c=this.easing;return _c?_c(_b):_b;},_fire:function(_d,_e){var a=_e||[];if(this[_d]){if(d.config.debugAtAllCosts){this[_d].apply(this,a);}else{try{this[_d].apply(this,a);}catch(e){console.error("exception in animation handler for:",_d);console.error(e);}}}return this;},play:function(_f,_10){var _11=this;if(_11._delayTimer){_11._clearTimer();}if(_10){_11._stopTimer();_11._active=_11._paused=false;_11._percent=0;}else{if(_11._active&&!_11._paused){return _11;}}_11._fire("beforeBegin",[_11.node]);var de=_f||_11.delay,_12=_4.hitch(_11,"_play",_10);if(de>0){_11._delayTimer=setTimeout(_12,de);return _11;}_12();return _11;},_play:function(_13){var _14=this;if(_14._delayTimer){_14._clearTimer();}_14._startTime=new Date().valueOf();if(_14._paused){_14._startTime-=_14.duration*_14._percent;}_14._active=true;_14._paused=false;var _15=_14.curve.getValue(_14._getStep());if(!_14._percent){if(!_14._startRepeatCount){_14._startRepeatCount=_14.repeat;}_14._fire("onBegin",[_15]);}_14._fire("onPlay",[_15]);_14._cycle();return _14;},pause:function(){var _16=this;if(_16._delayTimer){_16._clearTimer();}_16._stopTimer();if(!_16._active){return _16;}_16._paused=true;_16._fire("onPause",[_16.curve.getValue(_16._getStep())]);return _16;},gotoPercent:function(_17,_18){var _19=this;_19._stopTimer();_19._active=_19._paused=true;_19._percent=_17;if(_18){_19.play();}return _19;},stop:function(_1a){var _1b=this;if(_1b._delayTimer){_1b._clearTimer();}if(!_1b._timer){return _1b;}_1b._stopTimer();if(_1a){_1b._percent=1;}_1b._fire("onStop",[_1b.curve.getValue(_1b._getStep())]);_1b._active=_1b._paused=false;return _1b;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _1c=this;if(_1c._active){var _1d=new Date().valueOf();var _1e=(_1d-_1c._startTime)/(_1c.duration);if(_1e>=1){_1e=1;}_1c._percent=_1e;if(_1c.easing){_1e=_1c.easing(_1e);}_1c._fire("onAnimate",[_1c.curve.getValue(_1e)]);if(_1c._percent<1){_1c._startTimer();}else{_1c._active=false;if(_1c.repeat>0){_1c.repeat--;_1c.play(null,true);}else{if(_1c.repeat==-1){_1c.play(null,true);}else{if(_1c._startRepeatCount){_1c.repeat=_1c._startRepeatCount;_1c._startRepeatCount=0;}}}_1c._percent=0;_1c._fire("onEnd",[_1c.node]);!_1c.repeat&&_1c._stopTimer();}}return _1c;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_1f=null,_20={run:function(){}};d.extend(d.Animation,{_startTimer:function(){if(!this._timer){this._timer=d.connect(_20,"run",this,"_cycle");ctr++;}if(!_1f){_1f=setInterval(d.hitch(_20,"run"),this.rate);}},_stopTimer:function(){if(this._timer){d.disconnect(this._timer);this._timer=null;ctr--;}if(ctr<=0){clearInterval(_1f);_1f=null;ctr=0;}}});var _21=d.isIE?function(_22){var ns=_22.style;if(!ns.width.length&&d.style(_22,"width")=="auto"){ns.width="auto";}}:function(){};_4._fade=function(_23){_23.node=d.byId(_23.node);var _24=_7({properties:{}},_23),_25=(_24.properties.opacity={});_25.start=!("start" in _24)?function(){return +d.style(_24.node,"opacity")||0;}:_24.start;_25.end=_24.end;var _26=d.animateProperty(_24);d.connect(_26,"beforeBegin",d.partial(_21,_24.node));return _26;};_4.fadeIn=function(_27){return d._fade(_7({end:1},_27));};_4.fadeOut=function(_28){return d._fade(_7({end:0},_28));};_4._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _29=function(_2a){this._properties=_2a;for(var p in _2a){var _2b=_2a[p];if(_2b.start instanceof d.Color){_2b.tempColor=new d.Color();}}};_29.prototype.getValue=function(r){var ret={};for(var p in this._properties){var _2c=this._properties[p],_2d=_2c.start;if(_2d instanceof d.Color){ret[p]=d.blendColors(_2d,_2c.end,r,_2c.tempColor).toCss();}else{if(!d.isArray(_2d)){ret[p]=((_2c.end-_2d)*r)+_2d+(p!="opacity"?_2c.units||"px":0);}}}return ret;};_4.animateProperty=function(_2e){var n=_2e.node=d.byId(_2e.node);if(!_2e.easing){_2e.easing=d._defaultEasing;}var _2f=new d.Animation(_2e);d.connect(_2f,"beforeBegin",_2f,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var _30=this.properties[p];if(d.isFunction(_30)){_30=_30(n);}_30=pm[p]=_7({},(d.isObject(_30)?_30:{end:_30}));if(d.isFunction(_30.start)){_30.start=_30.start(n);}if(d.isFunction(_30.end)){_30.end=_30.end(n);}var _31=(p.toLowerCase().indexOf("color")>=0);function _32(_33,p){var v={height:_33.offsetHeight,width:_33.offsetWidth}[p];if(v!==undefined){return v;}v=d.style(_33,p);return (p=="opacity")?+v:(_31?v:parseFloat(v));};if(!("end" in _30)){_30.end=_32(n,p);}else{if(!("start" in _30)){_30.start=_32(n,p);}}if(_31){_30.start=new d.Color(_30.start);_30.end=new d.Color(_30.end);}else{_30.start=(p=="opacity")?+_30.start:parseFloat(_30.start);}}this.curve=new _29(pm);});d.connect(_2f,"onAnimate",d.hitch(d,"style",_2f.node));return _2f;};_4.anim=function(_34,_35,_36,_37,_38,_39){return d.animateProperty({node:_34,duration:_36||d.Animation.prototype.duration,properties:_35,easing:_37,onEnd:_38}).play(_39||0);};})();}}};});