/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realityBuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.json.query"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.json.query"]){_4._hasResource["dojox.json.query"]=true;_4.provide("dojox.json.query");(function(){_6.json._slice=function(_7,_8,_9,_a){var _b=_7.length,_c=[];_9=_9||_b;_8=(_8<0)?Math.max(0,_8+_b):Math.min(_b,_8);_9=(_9<0)?Math.max(0,_9+_b):Math.min(_b,_9);for(var i=_8;i<_9;i+=_a){_c.push(_7[i]);}return _c;};_6.json._find=function e(_d,_e){var _f=[];function _10(obj){if(_e){if(_e===true&&!(obj instanceof Array)){_f.push(obj);}else{if(obj[_e]){_f.push(obj[_e]);}}}for(var i in obj){var val=obj[i];if(!_e){_f.push(val);}else{if(val&&typeof val=="object"){_10(val);}}}};if(_e instanceof Array){if(_e.length==1){return _d[_e[0]];}for(var i=0;i<_e.length;i++){_f.push(_d[_e[i]]);}}else{_10(_d);}return _f;};_6.json._distinctFilter=function(_11,_12){var _13=[];var _14={};for(var i=0,l=_11.length;i<l;++i){var _15=_11[i];if(_12(_15,i,_11)){if((typeof _15=="object")&&_15){if(!_15.__included){_15.__included=true;_13.push(_15);}}else{if(!_14[_15+typeof _15]){_14[_15+typeof _15]=true;_13.push(_15);}}}}for(i=0,l=_13.length;i<l;++i){if(_13[i]){delete _13[i].__included;}}return _13;};_6.json.query=function(_16,obj){var _17=0;var str=[];_16=_16.replace(/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'|[\[\]]/g,function(t){_17+=t=="["?1:t=="]"?-1:0;return (t=="]"&&_17>0)?"`]":(t.charAt(0)=="\""||t.charAt(0)=="'")?"`"+(str.push(t)-1):t;});var _18="";function _19(_1a){_18=_1a+"("+_18;};function _1b(t,a,b,c,d,e,f,g){return str[g].match(/[\*\?]/)||f=="~"?"/^"+str[g].substring(1,str[g].length-1).replace(/\\([btnfr\\"'])|([^\w\*\?])/g,"\\$1$2").replace(/([\*\?])/g,"[\\w\\W]$1")+(f=="~"?"$/i":"$/")+".test("+a+")":t;};_16.replace(/(\]|\)|push|pop|shift|splice|sort|reverse)\s*\(/,function(){throw new Error("Unsafe function call");});_16=_16.replace(/([^=]=)([^=])/g,"$1=$2").replace(/@|(\.\s*)?[a-zA-Z\$_]+(\s*:)?/g,function(t){return t.charAt(0)=="."?t:t=="@"?"$obj":(t.match(/:|^(\$|Math|true|false|null)$/)?"":"$obj.")+t;}).replace(/\.?\.?\[(`\]|[^\]])*\]|\?.*|\.\.([\w\$_]+)|\.\*/g,function(t,a,b){var _1c=t.match(/^\.?\.?(\[\s*\^?\?|\^?\?|\[\s*==)(.*?)\]?$/);if(_1c){var _1d="";if(t.match(/^\./)){_19("dojox.json._find");_1d=",true)";}_19(_1c[1].match(/\=/)?"dojo.map":_1c[1].match(/\^/)?"dojox.json._distinctFilter":"dojo.filter");return _1d+",function($obj){return "+_1c[2]+"})";}_1c=t.match(/^\[\s*([\/\\].*)\]/);if(_1c){return ".concat().sort(function(a,b){"+_1c[1].replace(/\s*,?\s*([\/\\])\s*([^,\\\/]+)/g,function(t,a,b){return "var av= "+b.replace(/\$obj/,"a")+",bv= "+b.replace(/\$obj/,"b")+";if(av>bv||bv==null){return "+(a=="/"?1:-1)+";}\n"+"if(bv>av||av==null){return "+(a=="/"?-1:1)+";}\n";})+"return 0;})";}_1c=t.match(/^\[(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)\]/);if(_1c){_19("dojox.json._slice");return ","+(_1c[1]||0)+","+(_1c[2]||0)+","+(_1c[3]||1)+")";}if(t.match(/^\.\.|\.\*|\[\s*\*\s*\]|,/)){_19("dojox.json._find");return (t.charAt(1)=="."?",'"+b+"'":t.match(/,/)?","+t:"")+")";}return t;}).replace(/(\$obj\s*((\.\s*[\w_$]+\s*)|(\[\s*`([0-9]+)\s*`\]))*)(==|~)\s*`([0-9]+)/g,_1b).replace(/`([0-9]+)\s*(==|~)\s*(\$obj\s*((\.\s*[\w_$]+)|(\[\s*`([0-9]+)\s*`\]))*)/g,function(t,a,b,c,d,e,f,g){return _1b(t,c,d,e,f,g,b,a);});_16=_18+(_16.charAt(0)=="$"?"":"$")+_16.replace(/`([0-9]+|\])/g,function(t,a){return a=="]"?"]":str[a];});var _1e=eval("1&&function($,$1,$2,$3,$4,$5,$6,$7,$8,$9){var $obj=$;return "+_16+"}");for(var i=0;i<arguments.length-1;i++){arguments[i]=arguments[i+1];}return obj?_1e.apply(this,arguments):_1e;};})();}}};});