/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


realitybuilderDojo._xdResourceLoaded(function(_1,_2,_3){return {depends:[["provide","dojox.gfx.svg_attach"],["require","dojox.gfx.svg"]],defineResource:function(_4,_5,_6){if(!_4._hasResource["dojox.gfx.svg_attach"]){_4._hasResource["dojox.gfx.svg_attach"]=true;_4.provide("dojox.gfx.svg_attach");_4.require("dojox.gfx.svg");_4.experimental("dojox.gfx.svg_attach");(function(){var g=_6.gfx,_7=g.svg;_7.attachNode=function(_8){if(!_8){return null;}var s=null;switch(_8.tagName.toLowerCase()){case _7.Rect.nodeType:s=new _7.Rect(_8);_9(s);break;case _7.Ellipse.nodeType:s=new _7.Ellipse(_8);_a(s,g.defaultEllipse);break;case _7.Polyline.nodeType:s=new _7.Polyline(_8);_a(s,g.defaultPolyline);break;case _7.Path.nodeType:s=new _7.Path(_8);_a(s,g.defaultPath);break;case _7.Circle.nodeType:s=new _7.Circle(_8);_a(s,g.defaultCircle);break;case _7.Line.nodeType:s=new _7.Line(_8);_a(s,g.defaultLine);break;case _7.Image.nodeType:s=new _7.Image(_8);_a(s,g.defaultImage);break;case _7.Text.nodeType:var t=_8.getElementsByTagName("textPath");if(t&&t.length){s=new _7.TextPath(_8);_a(s,g.defaultPath);_b(s);}else{s=new _7.Text(_8);_c(s);}_d(s);break;default:return null;}if(!(s instanceof _7.Image)){_e(s);_f(s);}_10(s);return s;};_7.attachSurface=function(_11){var s=new _7.Surface();s.rawNode=_11;var _12=_11.getElementsByTagName("defs");if(_12.length==0){return null;}s.defNode=_12[0];return s;};function _e(_13){var _14=_13.rawNode.getAttribute("fill");if(_14=="none"){_13.fillStyle=null;return;}var _15=null,_16=_7.getRef(_14);if(_16){switch(_16.tagName.toLowerCase()){case "lineargradient":_15=_17(g.defaultLinearGradient,_16);_4.forEach(["x1","y1","x2","y2"],function(x){_15[x]=_16.getAttribute(x);});break;case "radialgradient":_15=_17(g.defaultRadialGradient,_16);_4.forEach(["cx","cy","r"],function(x){_15[x]=_16.getAttribute(x);});_15.cx=_16.getAttribute("cx");_15.cy=_16.getAttribute("cy");_15.r=_16.getAttribute("r");break;case "pattern":_15=_4.clone(g.defaultPattern);_4.forEach(["x","y","width","height"],function(x){_15[x]=_16.getAttribute(x);});_15.src=_16.firstChild.getAttributeNS(_7.xmlns.xlink,"href");break;}}else{_15=new _4.Color(_14);var _18=_13.rawNode.getAttribute("fill-opacity");if(_18!=null){_15.a=_18;}}_13.fillStyle=_15;};function _17(_19,_1a){var _1b=_4.clone(_19);_1b.colors=[];for(var i=0;i<_1a.childNodes.length;++i){_1b.colors.push({offset:_1a.childNodes[i].getAttribute("offset"),color:new _4.Color(_1a.childNodes[i].getAttribute("stop-color"))});}return _1b;};function _f(_1c){var _1d=_1c.rawNode,_1e=_1d.getAttribute("stroke");if(_1e==null||_1e=="none"){_1c.strokeStyle=null;return;}var _1f=_1c.strokeStyle=_4.clone(g.defaultStroke);var _20=new _4.Color(_1e);if(_20){_1f.color=_20;_1f.color.a=_1d.getAttribute("stroke-opacity");_1f.width=_1d.getAttribute("stroke-width");_1f.cap=_1d.getAttribute("stroke-linecap");_1f.join=_1d.getAttribute("stroke-linejoin");if(_1f.join=="miter"){_1f.join=_1d.getAttribute("stroke-miterlimit");}_1f.style=_1d.getAttribute("dojoGfxStrokeStyle");}};function _10(_21){var _22=_21.rawNode.getAttribute("transform");if(_22.match(/^matrix\(.+\)$/)){var t=_22.slice(7,-1).split(",");_21.matrix=g.matrix.normalize({xx:parseFloat(t[0]),xy:parseFloat(t[2]),yx:parseFloat(t[1]),yy:parseFloat(t[3]),dx:parseFloat(t[4]),dy:parseFloat(t[5])});}else{_21.matrix=null;}};function _d(_23){var _24=_23.fontStyle=_4.clone(g.defaultFont),r=_23.rawNode;_24.style=r.getAttribute("font-style");_24.variant=r.getAttribute("font-variant");_24.weight=r.getAttribute("font-weight");_24.size=r.getAttribute("font-size");_24.family=r.getAttribute("font-family");};function _a(_25,def){var _26=_25.shape=_4.clone(def),r=_25.rawNode;for(var i in _26){_26[i]=r.getAttribute(i);}};function _9(_27){_a(_27,g.defaultRect);_27.shape.r=Math.min(_27.rawNode.getAttribute("rx"),_27.rawNode.getAttribute("ry"));};function _c(_28){var _29=_28.shape=_4.clone(g.defaultText),r=_28.rawNode;_29.x=r.getAttribute("x");_29.y=r.getAttribute("y");_29.align=r.getAttribute("text-anchor");_29.decoration=r.getAttribute("text-decoration");_29.rotated=parseFloat(r.getAttribute("rotate"))!=0;_29.kerning=r.getAttribute("kerning")=="auto";_29.text=r.firstChild.nodeValue;};function _b(_2a){var _2b=_2a.shape=_4.clone(g.defaultTextPath),r=_2a.rawNode;_2b.align=r.getAttribute("text-anchor");_2b.decoration=r.getAttribute("text-decoration");_2b.rotated=parseFloat(r.getAttribute("rotate"))!=0;_2b.kerning=r.getAttribute("kerning")=="auto";_2b.text=r.firstChild.nodeValue;};})();}}};});